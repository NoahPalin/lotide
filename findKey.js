/* This function compares two primitive pieces of data, then tells the user
if they are equal or not with a pass/fail message.
actual: the data you want to compare to another piece of data.
expected: what you expect actual to be equal to. */
const assertEqual = function(actual, expected) {

  //The message the assertion will output if it finds an error.
  let errorMessage = `${actual} !== ${expected}`;

  //The following if statement adds the red circles if actual and expected don't match.
  if (actual !== expected) {

    //The red circles are logged without going to a new line.
    process.stdout.write("ğŸ”´ğŸ”´ğŸ”´");
  }
  console.assert(actual === expected, errorMessage);

  //If the assertion passes, this if statement prints a message telling the user it passed.
  if (actual === expected) {
    console.log(`ğŸŸ¢ğŸŸ¢ğŸŸ¢Assertion Passed: ${actual} === ${expected}`);
  }
};

/*This function searches through an object to find a key who's value passes a test defined by a callback
function. Once a value is found that passes this test, the function returns the corrisponding key.
obj: an object of objects that is passed-in to the function.
callback: the test that is applied to each value of each object inside the object.*/
const findKey = function(obj, callback) {

  //Loops through the entire object.
  for (let key in obj) {

    //Checks if a key's value passes the callback function's test.
    if (callback(obj[key])) {

      //Returns the first key that passed the callback function's test.
      return key;
    }
  }

  //Returns undefined if no value passed the callback function's test.
  return undefined;
};

//Test cases.
assertEqual(findKey({
  "Blue Hill": { stars: 1 },
  "Akaleri":   { stars: 3 },
  "noma":      { stars: 2 },
  "elBulli":   { stars: 3 },
  "Ora":       { stars: 2 },
  "Akelarre":  { stars: 3 }
}, x => x.stars === 2), ("noma")); //Should pass.

assertEqual(findKey({
  "Blue Hill": { stars: 1 },
  "Akaleri":   { stars: 3 },
  "noma":      { stars: 2 },
  "elBulli":   { stars: 3 },
  "Ora":       { stars: 2 },
  "Akelarre":  { stars: 3 }
}, x => x.stars === 1), ("Blue Hill")); //Should pass.

assertEqual(findKey({
  "Blue Hill": { stars: 1 },
  "Akaleri":   { stars: 3 },
  "noma":      { stars: 2 },
  "elBulli":   { stars: 3 },
  "Ora":       { stars: 2 },
  "Akelarre":  { stars: 3 }
}, x => x.stars === 10), (undefined)); //Should pass.